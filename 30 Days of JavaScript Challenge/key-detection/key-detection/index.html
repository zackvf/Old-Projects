<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Secret Code Keystroke Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>

	<h1>Click anywhere on the page and start typing... If you guess the secret code, you'll win a prize!</h1>

<script>
	const pressedKeys = [];
	const keyCode = 'van';

	// This listener is the basis for a key logger if the array simply stored each pressed key instead of doing something with the entries like splicing
	window.addEventListener('keyup', (e) => {
		console.log(e.key);
		pressedKeys.push(e.key);
		// Splicing here trims the length of the array to the number of characters the key code has, while starting from the end of the array and going forward instead of from the beginning and going inwards
		pressedKeys.splice(-keyCode.length - 1, pressedKeys.length - keyCode.length);
		// 'If' here takes the string of the user input and checks for the key code inside of that joined string
		if (pressedKeys.join('').includes(keyCode)) {
			console.log('you win!');
			cornify_add();
		}
		console.log(pressedKeys);
	});

</script>
</body>
</html>
